# ============================================
# 知识库 RAG 助理 环境配置
# v2.0 - 支持 LangGraph Agentic RAG + LangSmith
# ============================================

# ============ OpenAI API 配置 ============
# 必填：OpenAI API 密钥
OPENAI_API_KEY=your-openai-api-key-here

# 可选：自定义 API 基础 URL（用于代理或兼容 API）
# OPENAI_BASE_URL=https://api.openai.com/v1

# 模型名称（可选，默认 gpt-3.5-turbo）
# MODEL_NAME=gpt-4o-mini

# Embedding 模型（可选，默认 text-embedding-ada-002）
# EMBEDDING_MODEL=text-embedding-ada-002

# ============ RAG 基础配置 ============
# 文档切块配置
# CHUNK_SIZE=800
# CHUNK_OVERLAP=120

# 默认检索数量
# RAG_TOP_K_DEFAULT=4

# 初始检索数量（用于 MMR/Rerank）
# RAG_FETCH_K=20

# 默认检索模式: similarity / mmr
# RAG_RETRIEVAL_MODE_DEFAULT=similarity

# MMR 多样性参数 (0-1, 越小越多样)
# RAG_MMR_LAMBDA=0.5

# ============ 置信度配置 ============
# 最低相似度分数阈值（低于此值触发兜底策略）
# RAG_MIN_SCORE=0.25

# 有效来源最少数量
# RAG_MIN_SOURCES=1

# ============ v2.0 Agentic RAG 配置 ============
# 是否全局启用 Agentic 模式（默认关闭，可在前端切换）
# RAG_AGENTIC_ENABLED=false

# Agentic 模式最大循环次数
# RAG_AGENTIC_MAX_LOOPS=2

# 是否启用 Rerank 重排（v1.3 预留）
# RAG_USE_RERANK=false

# ============ LangSmith 配置 ============
# 启用 LangSmith 追踪（设为 true 启用）
# LANGCHAIN_TRACING_V2=true

# LangSmith API 密钥
# LANGCHAIN_API_KEY=your-langsmith-api-key

# LangSmith 项目名称
# LANGCHAIN_PROJECT=rag-kb-assistant

# LangSmith 端点（通常无需修改）
# LANGCHAIN_ENDPOINT=https://api.smith.langchain.com

# ============ 安全配置 ============
# 可选：访问令牌鉴权（设置后需要在请求头带上 Authorization: Bearer <token>）
# ACCESS_TOKEN=your-secret-access-token
